(this["webpackJsonprecipes-app"]=this["webpackJsonprecipes-app"]||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(10),i=n.n(a),s=(n(16),n(5)),o=n(3),u=n.n(o),l=n(6),d=n(2),j=n(0),p=function(e){var t=e.className,n=e.text,r=e.onClick;return Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:t,onClick:r,children:n})})},b=function(e){var t=e.title,n=(e.onAdd,e.showAdd,e.onSearch),r=e.showSearch;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{className:"title",children:t}),Object(j.jsx)(p,{onClick:n,className:r?"btn btn-close":"btn btn-2",text:r?"Close":"Search"})]})};b.defaultProps={title:"Amina Recipes"};var h=b,f=n(11),m=function(e){var t=e.recipe,n=e.onDelete;return Object(j.jsxs)("div",{className:"recipe",children:[Object(j.jsxs)("h3",{children:[t.name," ",Object(j.jsx)(f.a,{style:{color:"red",cursor:"pointer"},onClick:function(){return n(t.id)}})," "]}),Array.from(t.ingredients)[0].length>1?Object(j.jsxs)("ul",{children:[" ",Array.from(t.ingredients).map((function(e,t){return c.a.createElement("li",{key:t},e)}))," "]}):Object(j.jsxs)("ul",{children:[" ",[t.ingredients].map((function(e,t){return c.a.createElement("li",{key:t},e)}))," "]})]})},x=n(9),O=n.n(x),g=function(e){var t=e.recipes,n=e.onDelete,c=e.showSearch,a=Object(r.useState)(""),i=Object(d.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(""),l=Object(d.a)(u,2),p=l[0],b=l[1];function h(e){return e.name.includes(p)}return Object(j.jsxs)("div",{children:[c&&Object(j.jsxs)("div",{className:"search-container",children:[Object(j.jsx)("h3",{style:{fontSize:"20px",paddingBottom:"10px"},children:"Filter recipies by ingredients"}),Object(j.jsx)("hr",{}),Object(j.jsx)("form",{className:"search-form",children:Object(j.jsx)("input",{value:s,type:"text",placeholder:"ex: peanut butter",onChange:function(e){o(e.target.value)}})}),Object(j.jsx)("h3",{style:{fontSize:"20px",paddingBottom:"10px"},children:"Search for a recipe by name"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),p||(document.querySelector("#search_error").innerHTML="Please enter a recipe name to find"),document.getElementById("search").onkeyup=function(){document.getElementById("search_error").innerHTML=""},p&&(t.find(h)?document.getElementById("found").innerHTML=O.a.renderToString(Object(j.jsx)(m,{recipe:t.find(h),onDelete:n})):document.getElementById("found").innerHTML="<span style='color: red'>Sorry, could not find a recipe with that name</span>")},children:[Object(j.jsx)("input",{value:p,type:"text",id:"search",placeholder:"ex: hot chocolate",onChange:function(e){b(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:Object(j.jsx)("strong",{children:"search"})}),Object(j.jsx)("button",{type:"button",onClick:function(){b(""),document.getElementById("found").innerHTML=O.a.renderToString("")},children:Object(j.jsx)("strong",{children:"clear"})})]}),Object(j.jsx)("span",{className:"error",children:Object(j.jsx)("p",{id:"search_error"})}),Object(j.jsx)("br",{})]}),Object(j.jsx)("div",{id:"found"}),Object(j.jsx)("br",{}),""===p&&Object.values(t).filter((function(e){return""===s?Object(j.jsx)(m,{recipe:e,onDelete:n},e.id):e.ingredients.map((function(e){return e.toLowerCase()})).toString().includes(s.toLowerCase())?[Object(j.jsx)(m,{recipe:e,onDelete:n}),console.log(e)]:void 0})).map((function(e,t){return Object(j.jsx)(m,{recipe:e,onDelete:n},t)}))]})},v=function(e){var t=e.onAdd,n=Object(r.useState)(""),c=Object(d.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)([]),u=Object(d.a)(o,2),l=u[0],p=u[1];function b(){document.getElementById(this.id+"_error").innerHTML=""}return Object(j.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),a||(document.querySelector("#name_error").innerHTML="Please enter a recipe name"),0===l.length&&(document.querySelector("#ingredient_error").innerHTML="Please enter ingredients"),document.getElementById("name").onkeyup=b,document.getElementById("ingredient").onkeyup=b,a&&l&&(t({name:a,ingredients:l}),i(""),p(""))},children:[Object(j.jsxs)("div",{className:"form-control",children:[Object(j.jsx)("label",{children:"Recipe Name"}),Object(j.jsx)("span",{className:"error",children:Object(j.jsx)("p",{id:"name_error"})}),Object(j.jsx)("input",{type:"text",id:"name",placeholder:"ex: cheese sandwich",value:a,onChange:function(e){return i(e.target.value)}})]}),[l].map((function(e,t){return Object(j.jsxs)("div",{className:"form-control",children:[Object(j.jsx)("label",{children:"Ingredients"}),Object(j.jsx)("span",{className:"error",children:Object(j.jsx)("p",{id:"ingredient_error"})}),Object(j.jsx)("input",{type:"text",id:"ingredient",placeholder:"ex: bread",value:e,onChange:function(e){return function(e,t){var n=Object(s.a)(l);n[t]=e.target.value,p(n)}(e,t)}})]},t)})),Object(j.jsx)("input",{type:"submit",value:"Save Recipe",className:"btn btn-block"})]})},y=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(d.a)(a,2),o=i[0],p=i[1],b=Object(r.useState)([]),f=Object(d.a)(b,2),m=f[0],x=f[1];Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/recipe");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/recipe",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,x([].concat(Object(s.a)(m),[r]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/recipe/".concat(t),{method:"DELETE"});case 2:x(m.filter((function(e){return e.id!==t})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(h,{onAdd:function(){return c(!n)},showAdd:n,onSearch:function(){return p(!o)},showSearch:o}),n&&Object(j.jsx)(v,{onAdd:y}),Object(j.jsx)(g,{recipes:m,onDelete:S,showSearch:o}),0===m.length&&"No Recipes To Show",Object(j.jsx)("footer",{children:Object(j.jsxs)("p",{children:["copyright \xa9 2021 ",Object(j.jsx)("a",{href:"https://amna-a.github.io/",children:"AMINA ELTAHIR "})]})})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),S()}},[[20,1,2]]]);
//# sourceMappingURL=main.00221048.chunk.js.map